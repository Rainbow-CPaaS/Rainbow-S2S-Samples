/**
 * Rainbow Enduser portal
 * # Rainbow end user portal API guide  ## Preamble  ### Introduction  This guide describes list of API services that are provided by OT Rainbow End user portal. This portal is dedicated to end user features.  ### Protocol  REST interface is used for sending/receiving OT rainbow API messages. HTTP requests GET, DELETE, POST, UPDATE are used. Standard HTTP responses are used to provide requested information or error status. There is no session notion in OT Rainbow system, so requests could be issued according stateless model, without transport conservation between them. Additional data could be provided in message body. JSON is used as a main format for data encoding in message body part. Each request is started with the following pattern /{module}/{version}/ where {module} is a portal module name to address and {version} is a version of used API, par example, “v1.0”.  ### Security considerations  Each request should contain some credential information to authenticate itself. Standard HTTP authentication with basic/bearer modes is used. JSON Web Token mechanism is used to provide authentication information. JWT has a expire timeout that is controlled by OT Rainbow portal to prevent very long token usage. Also authentication with application token is used. The token must be provided in the request HTTP header, using a custom header: APIKey. At server side, token is verified, and if it doesn’t match, 403 Not Allowed response is sent. TLS is used as a transport protocol to support message exchanges between OT Rainbow portal and an application.  
 *
 * The version of the OpenAPI document: 1.84.0
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 *
 * OpenAPI Generator version: 4.1.2
 *
 * Do not edit the class manually.
 *
 */

(function(root, factory) {
  if (typeof define === 'function' && define.amd) {
    // AMD. Register as an anonymous module.
    define(['ApiClient', 'model/SendUserRoomInvitationCancelation', 'model/SendUserRoomInvitationCancelationSuccess', 'model/SendUsersJoinRoomInvitation', 'model/SendUsersJoinRoomInvitationSuccess'], factory);
  } else if (typeof module === 'object' && module.exports) {
    // CommonJS-like environments that support module.exports, like Node.
    module.exports = factory(require('../ApiClient'), require('../model/SendUserRoomInvitationCancelation'), require('../model/SendUserRoomInvitationCancelationSuccess'), require('../model/SendUsersJoinRoomInvitation'), require('../model/SendUsersJoinRoomInvitationSuccess'));
  } else {
    // Browser globals (root is window)
    if (!root.RainbowEnduserPortal) {
      root.RainbowEnduserPortal = {};
    }
    root.RainbowEnduserPortal.RoomsInvitationApi = factory(root.RainbowEnduserPortal.ApiClient, root.RainbowEnduserPortal.SendUserRoomInvitationCancelation, root.RainbowEnduserPortal.SendUserRoomInvitationCancelationSuccess, root.RainbowEnduserPortal.SendUsersJoinRoomInvitation, root.RainbowEnduserPortal.SendUsersJoinRoomInvitationSuccess);
  }
}(this, function(ApiClient, SendUserRoomInvitationCancelation, SendUserRoomInvitationCancelationSuccess, SendUsersJoinRoomInvitation, SendUsersJoinRoomInvitationSuccess) {
  'use strict';

  /**
   * RoomsInvitation service.
   * @module api/RoomsInvitationApi
   * @version 1.84.0
   */

  /**
   * Constructs a new RoomsInvitationApi. 
   * @alias module:api/RoomsInvitationApi
   * @class
   * @param {module:ApiClient} [apiClient] Optional API client implementation to use,
   * default to {@link module:ApiClient#instance} if unspecified.
   */
  var exports = function(apiClient) {
    this.apiClient = apiClient || ApiClient.instance;



    /**
     * Notify users about a canceled invitation to join a room
     * Room invitation cancelling. Depending on the purpose of the invitation to cancel, we can have two different behaviors.   * **pstn-conference scenario** : Send a notification to users that a scheduled pstn conference is cancelled. The notification is an email. When some of them are known as Guest users (doesn't have created an account yet), the email of these guest is removed from the list of guest attached to the room. All active users in the room are notified about the new list of guest emails left. * **chat, video-conference scenario** : This case is mainly to dismiss some guest users attached to the room. The main reason is a bad email spelling. The email of these guest is removed from the list of guest attached to the room. When you use the chat or video-conference scenario, only a list of emails is wanted in the body. (\"emails\" : [\"guest1@mycompany.com\", \"guest2@mycompany\"]) All active users in the room are notified about the new list of guest emails left.  
     * @param {String} roomId Room unique identifier (like 56f42c1914e2a8a91b99e595)
     * @param {module:model/SendUserRoomInvitationCancelation} body 
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/SendUserRoomInvitationCancelationSuccess} and HTTP response
     */
    this.sendUserRoomInvitationCancelationWithHttpInfo = function(roomId, body) {
      var postBody = body;
      // verify the required parameter 'roomId' is set
      if (roomId === undefined || roomId === null) {
        throw new Error("Missing the required parameter 'roomId' when calling sendUserRoomInvitationCancelation");
      }
      // verify the required parameter 'body' is set
      if (body === undefined || body === null) {
        throw new Error("Missing the required parameter 'body' when calling sendUserRoomInvitationCancelation");
      }

      var pathParams = {
        'roomId': roomId
      };
      var queryParams = {
      };
      var collectionQueryParams = {
      };
      var headerParams = {
      };
      var formParams = {
      };

      var authNames = [];
      var contentTypes = ['application/json'];
      var accepts = ['application/json', 'text/xml'];
      var returnType = SendUserRoomInvitationCancelationSuccess;
      return this.apiClient.callApi(
        '/api/rainbow/enduser/v1.0/rooms/{roomId}/invitations/cancel', 'POST',
        pathParams, queryParams, collectionQueryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType, null
      );
    }

    /**
     * Notify users about a canceled invitation to join a room
     * Room invitation cancelling. Depending on the purpose of the invitation to cancel, we can have two different behaviors.   * **pstn-conference scenario** : Send a notification to users that a scheduled pstn conference is cancelled. The notification is an email. When some of them are known as Guest users (doesn't have created an account yet), the email of these guest is removed from the list of guest attached to the room. All active users in the room are notified about the new list of guest emails left. * **chat, video-conference scenario** : This case is mainly to dismiss some guest users attached to the room. The main reason is a bad email spelling. The email of these guest is removed from the list of guest attached to the room. When you use the chat or video-conference scenario, only a list of emails is wanted in the body. (\"emails\" : [\"guest1@mycompany.com\", \"guest2@mycompany\"]) All active users in the room are notified about the new list of guest emails left.  
     * @param {String} roomId Room unique identifier (like 56f42c1914e2a8a91b99e595)
     * @param {module:model/SendUserRoomInvitationCancelation} body 
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/SendUserRoomInvitationCancelationSuccess}
     */
    this.sendUserRoomInvitationCancelation = function(roomId, body) {
      return this.sendUserRoomInvitationCancelationWithHttpInfo(roomId, body)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * Notify users to join a room
     * Common room invitation mechanism for chat only/pstn conference/video conference * Send notifications and/or emails to rainbow users, to join a room for a chat or conference session. * Send mails to foreign users, inviting to create a rainbow account before joining a room and starting a chat or conference session. * For pstn conference invitation, the notification is a mail indicating the conference phone number.  Three scenario are available: * **chat** : In this scenario, we try to move a set of users known by their email only, to a CHAT room. The room is already created and some Rainbow users are already invited. The goal is to carry on the users embedding using a list of emails. Rainbow users not yet invited to join the room are added. Other are considered as foreign users, then they receive an email inviting them to create their Rainbow account and join the room. In details the scenario:   * Ignore 'users' list (see body content)   * Search rainbow users from 'emails' list (see body content)   * Those found are invited to join the room   * Those not found receive an email to create their account before joining automatically the room. Emails address of foreign users are stored in the room data (new field: guestEmails) * **pstn-conference** : In this scenario, we try to notify a set of users known by their rainbowId or their email, to join a pstn conference. The room is already created and some Rainbow users are already invited. The goal is also to carry on the users embedding using a list of emails. Another goal is to send a notification for all invited users to join the conference.**The notification is a mail indicating the conference phone numbers and access code.** Furthermore an XMPP event could be sent. As for the 'chat scenario', Rainbow users not yet invited to join the room are added. Other are considered as foreign users, then they receive an email inviting them to create their Rainbow account and join the room. The mail indicates the conference phone numbers and access code. In details the scenario:    * Read 'users' list to built a list of users to notify(see body content)   * Search rainbow users from 'emails' list (see body content)   * Those found are invited to join the room and receive an email and/or an XMPP event. No event is sent in case of instant meeting.   * Those not found receive an email to create their account before joining automatically the room. Emails address of foreign users are stored in the room data (new field: guestEmails)   * No mail is sent if wanted (see body content 'noMail' flag). * **video-conference** : In this scenario, we try to notify a set of users known by their rainbowId or their email, to join a video conference. The room is already created and some Rainbow users are already invited. The goal is also to carry on the users embedding using a list of emails. Another goal is to send an XMPP event to all rainbow user to join the video conference. The last goal is to send an email to foreign users, inviting them to create their Rainbow account and join the video conference room. In details the scenario:    * Read 'users' list to built a list of users to notify(see body content)   * Search rainbow users from 'emails' list (see body content)   * Those found are invited to join the room and receive an XMPP event to join the video conference   * Those not found receive an email to create their account before joining automatically the room. Emails address of foreign users are stored in the room data (new field: guestEmails)  
     * @param {String} roomId Room unique identifier (like 56f42c1914e2a8a91b99e595)
     * @param {module:model/SendUsersJoinRoomInvitation} body 
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/SendUsersJoinRoomInvitationSuccess} and HTTP response
     */
    this.sendUsersJoinRoomInvitationWithHttpInfo = function(roomId, body) {
      var postBody = body;
      // verify the required parameter 'roomId' is set
      if (roomId === undefined || roomId === null) {
        throw new Error("Missing the required parameter 'roomId' when calling sendUsersJoinRoomInvitation");
      }
      // verify the required parameter 'body' is set
      if (body === undefined || body === null) {
        throw new Error("Missing the required parameter 'body' when calling sendUsersJoinRoomInvitation");
      }

      var pathParams = {
        'roomId': roomId
      };
      var queryParams = {
      };
      var collectionQueryParams = {
      };
      var headerParams = {
      };
      var formParams = {
      };

      var authNames = [];
      var contentTypes = ['application/json'];
      var accepts = ['application/json', 'text/xml'];
      var returnType = SendUsersJoinRoomInvitationSuccess;
      return this.apiClient.callApi(
        '/api/rainbow/enduser/v1.0/rooms/{roomId}/invitations', 'POST',
        pathParams, queryParams, collectionQueryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType, null
      );
    }

    /**
     * Notify users to join a room
     * Common room invitation mechanism for chat only/pstn conference/video conference * Send notifications and/or emails to rainbow users, to join a room for a chat or conference session. * Send mails to foreign users, inviting to create a rainbow account before joining a room and starting a chat or conference session. * For pstn conference invitation, the notification is a mail indicating the conference phone number.  Three scenario are available: * **chat** : In this scenario, we try to move a set of users known by their email only, to a CHAT room. The room is already created and some Rainbow users are already invited. The goal is to carry on the users embedding using a list of emails. Rainbow users not yet invited to join the room are added. Other are considered as foreign users, then they receive an email inviting them to create their Rainbow account and join the room. In details the scenario:   * Ignore 'users' list (see body content)   * Search rainbow users from 'emails' list (see body content)   * Those found are invited to join the room   * Those not found receive an email to create their account before joining automatically the room. Emails address of foreign users are stored in the room data (new field: guestEmails) * **pstn-conference** : In this scenario, we try to notify a set of users known by their rainbowId or their email, to join a pstn conference. The room is already created and some Rainbow users are already invited. The goal is also to carry on the users embedding using a list of emails. Another goal is to send a notification for all invited users to join the conference.**The notification is a mail indicating the conference phone numbers and access code.** Furthermore an XMPP event could be sent. As for the 'chat scenario', Rainbow users not yet invited to join the room are added. Other are considered as foreign users, then they receive an email inviting them to create their Rainbow account and join the room. The mail indicates the conference phone numbers and access code. In details the scenario:    * Read 'users' list to built a list of users to notify(see body content)   * Search rainbow users from 'emails' list (see body content)   * Those found are invited to join the room and receive an email and/or an XMPP event. No event is sent in case of instant meeting.   * Those not found receive an email to create their account before joining automatically the room. Emails address of foreign users are stored in the room data (new field: guestEmails)   * No mail is sent if wanted (see body content 'noMail' flag). * **video-conference** : In this scenario, we try to notify a set of users known by their rainbowId or their email, to join a video conference. The room is already created and some Rainbow users are already invited. The goal is also to carry on the users embedding using a list of emails. Another goal is to send an XMPP event to all rainbow user to join the video conference. The last goal is to send an email to foreign users, inviting them to create their Rainbow account and join the video conference room. In details the scenario:    * Read 'users' list to built a list of users to notify(see body content)   * Search rainbow users from 'emails' list (see body content)   * Those found are invited to join the room and receive an XMPP event to join the video conference   * Those not found receive an email to create their account before joining automatically the room. Emails address of foreign users are stored in the room data (new field: guestEmails)  
     * @param {String} roomId Room unique identifier (like 56f42c1914e2a8a91b99e595)
     * @param {module:model/SendUsersJoinRoomInvitation} body 
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/SendUsersJoinRoomInvitationSuccess}
     */
    this.sendUsersJoinRoomInvitation = function(roomId, body) {
      return this.sendUsersJoinRoomInvitationWithHttpInfo(roomId, body)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }
  };

  return exports;
}));
